# Домашнее задание - Архитектура сети

**Выполнил Давыдкин Д.Г.**
### Задание
1. Разработаете и задокументируете адресное пространство для лабораторного стенда.
2. Настроите ip адреса на каждом активном порту
3. Настроите каждый VPC в каждом офисе в своем VLAN.
4. Настроите VLAN/Loopbackup interface управления для сетевых устройств
5. Настроите сети офисов так, чтобы не возникало broadcast штормов, а использование линков было максимально оптимизировано
6. Используете IPv4. IPv6 по желанию
Документация оформлена на github. (желательно использовать markdown).

### Топология

![Image]()

###  1. Таблица адресации
### Москва
| Устройство  | Интерфейс | IP-адрес      | Маска           | Шлюз по умолчанию |
|:-----------:|:---------:|:-------------:|:---------------:|:-----------------:|
| R14         | e0/0      | 172.16.2.1    | 255.255.255.252 | 172.16.2.1        |
| R14         | e0/1      | 172.16.3.1    | 255.255.255.252 | 172.16.3.1        |
| R14         | e0/2      | 100.100.100.2 | 255.255.255.252 | 100.100.100.1     |
| R14         | e0/3      | 172.16.1.1    | 255.255.255.252 | 172.16.1.1        |
| R14         | lo0       | 172.16.200.1  | 255.255.255.0   | 172.16.200.1      |
| R15         | e0/0      | 172.16.5.1    | 255.255.255.252 | 172.16.5.1        |
| R15         | e0/1      | 172.16.4.1    | 255.255.255.252 | 172.16.4.1        |
| R15         | e0/2      | 100.100.101.2 | 255.255.255.252 | 100.100.101.1     |
| R15         | e0/3      | 172.16.6.1    | 255.255.255.252 | 172.16.6.1        |
| R15         | lo0       | 172.16.200.2  | 255.255.255.0   | 172.16.200.1      |
| R19         | e0/0      | 172.16.1.2    | 255.255.255.252 | 172.16.1.1        |
| R19         | lo0       | 172.16.200.3  | 255.255.255.0   | 172.16.200.1      |
| R12         | e0/0.100  | 172.16.100.2  | 255.255.255.0   | 172.16.100.1      |
| R12         | e0/1.110  | 172.16.110.3  | 255.255.255.0   | 172.16.110.1      |
| R12         | e0/2      | 172.16.2.2    | 255.255.255.252 | 172.16.2.1        |
| R12         | e0/3      | 172.16.4.2    | 255.255.255.252 | 172.16.4.1        |
| R12         | lo0       | 172.16.200.4  | 255.255.255.0   | 172.16.200.1      |
| R13         | e0/0.100     | 172.16.110.2  | 255.255.255.0   | 172.16.110.1      |
| R13         | e0/1.110     | 172.16.100.3  | 255.255.255.0   | 172.16.100.1      |
| R13         | e0/2         | 172.16.5.2    | 255.255.255.252 | 172.16.5.1        |
| R13         | e0/3         | 172.16.3.2    | 255.255.255.252 | 172.16.3.1        |
| R13         | lo0          | 172.16.200.5  | 255.255.255.0   | 172.16.200.1      |
| R20         | e0/0         | 172.16.6.2    | 255.255.255.252 | 172.16.6.1        |
| R20         | lo0          | 172.16.200.6  | 255.255.255.0   | 172.16.200.1      |
| SW4         | int vlan 200 | 172.16.200.7  | 255.255.255.0   | 172.16.200.1      |
| SW5         | int vlan 200 | 172.16.200.8  | 255.255.255.0   | 172.16.200.1      |
| SW3         | int vlan 200 | 172.16.200.9  | 255.255.255.0   | 172.16.200.1      |
| SW2         | int vlan 200 | 172.16.200.10 | 255.255.255.0   | 172.16.200.1      |
| VPC1        | Ethernet     | 172.16.100.4  | 255.255.255.0   | 172.16.100.1      |
| VPC7        | Ethernet     | 172.16.110.4  | 255.255.255.0   | 172.16.110.1      |

| Номер VLAN | Наименование | Устройство      |
|------------|--------------|-----------------|
| 100        | Users100     | SW4, SW5, SW3, SW2, VPC1 |
| 110        | Users110     | SW4, SW5, SW3, SW2, VPC7 |
| 200        | MGMT         | SW4, SW5, SW3, SW2 |



### Ламас
| Устройство | Интерфейс  |  IP-адрес     | Маска           | Шлюз по умолчанию |
|------------|------------|---------------|-----------------|-------------------|
| R21        | e0/0       | 100.100.101.1 | 255.255.255.252 |100.100.101.1      |
| R21        | e0/1       | 130.130.130.2 | 255.255.255.252 | 130.130.130.1     |
| R21        | e0/2       | 134.134.134.1 | 255.255.255.252 | 134.134.134.1     |


### Киторн
| Устройство | Интерфейс | IP-адрес      | Маска           | Шлюз по умолчанию |
|------------|-----------|---------------|-----------------|-------------------|
| R22        | e0/0      | 100.100.100.1 | 255.255.255.252 | 100.100.100.1     |
| R22        | e0/1      | 130.130.130.1 | 255.255.255.252 | 130.130.130.1     |
| R22        | e0/2      | 132.132.132.1 | 255.255.255.252 | 132.132.132.1     |


### Триада
| Устройство | Интерфейс  |  IP-адрес | Маска           | Шлюз по умолчанию |
|------------|------------|-----------|-----------------|-------------------|
| R23        | e0/0       |132.132.132.2| 255.255.255.252 |132.132.132.1|
| R23        | e0/1       |192.168.100.1| 255.255.255.252 |                   |
| R23        | e0/2       |192.168.101.1| 255.255.255.252 |                   |
| R23        | lo0        |192.168.200.1| 255.255.255.0   |-                |
| R24        | e0/0       |134.134.134.2| 255.255.255.252 |                   |
| R24        | e0/1       |192.168.102.1| 255.255.255.252 |                   |
| R24        | e0/2       |192.168.101.2| 255.255.255.252 |192.168.101.1|
| R24        | e0/3       |110.110.110.1| 255.255.255.252 |             |
| R24        | lo0        |192.168.200.2| 255.255.255.0   |192.168.200.1|
| R25        | e0/0       |192.168.100.2| 255.255.255.252 |192.168.100.1|
| R25        | e0/1       |136.136.136.1| 255.255.255.252 |-                   |
| R25        | e0/2       |192.168.103.2  | 255.255.255.252 |192.168.103.1|
| R25        | e0/3       |125.125.125.1| 255.255.255.252 |                   |
| R25        | lo0        |192.168.200.3| 255.255.255.0   |192.168.200.1|
| R26        | e0/0       |192.168.102.2| 255.255.255.252 |192.168.102.1|
| R26        | e0/1       |120.120.120.1 | 255.255.255.252 |                   |
| R26        | e0/2       |192.168.103.1 | 255.255.255.252 |                   |
| R26        | e0/3       |115.115.115.1| 255.255.255.252 |-                   |
| R26        | lo0        |192.168.200.4| 255.255.255.0   |192.168.200.1|

### Лабынтанги
| Устройство | Интерфейс  |  IP-адрес     | Маска         | Шлюз по умолчанию |
|------------|------------|---------------|---------------|-------------------|
| R27        | e0/0       | 136.136.136.2 |255.255.255.252| 136.136.136.1     |
| R27        | lo0        | 192.168.1.1   | 255.255.255.0 | 192.168.1.1       |


### Чокурдах
| Устройство | Интерфейс    | IP-адрес      | Маска           | Шлюз по умолчанию |
|------------|--------------|---------------|-----------------|-------------------|
| R28        | e0/0         | 120.120.120.2 | 255.255.255.252 | 120.120.120.1     |
| R28        | e0/1         | 125.125.125.2 | 255.255.255.252 | 125.125.125.1     |
| R28        | e0/2.140     | 172.24.140.1  | 255.255.255.0   | 172.24.140.1      |
| R28        | e0/2.150     | 172.24.150.1  | 255.255.255.0   | 172.24.150.1      |
| R28        | lo0          | 172.24.200.1  | 255.255.255.0   | -                 |
| SW29       | int vlan 200 | 172.24.200.2  | 255.255.255.0   | 172.24.200.1      |
| SW29       | lo0          | 172.24.200.1  | 255.255.255.0   |172.24.200.1       |
| VPC30      | Ethernet     | 172.24.140.2  | 255.255.255.0   | 172.24.140.1      |
| VPC31      | Ethernet     | 172.24.150.2  | 255.255.255.0   | 172.24.150.1      |


| Номер VLAN | Наименование | Устройство      |
|------------|--------------|-----------------|
| 140        | Users140     | SW29, VPC30     |
| 150        | Users150     | SW29, VPC31     |
| 200        | MGMT         | SW29            |


### С.Петербург
| Устройство | Интерфейс    | IP-адрес      | Маска           | Шлюз по умолчанию |
|------------|--------------|---------------|-----------------|-------------------|
| R18        | e0/0         | 172.20.2.1    | 255.255.255.252 | 172.20.2.1        |
| R18        | e0/1         | 172.20.1.1    | 255.255.255.252 | 172.20.1.1        |
| R18        | e0/2         | 110.110.110.2 | 255.255.255.252 | 110.110.110.2     |
| R18        | e0/3         | 115.115.115.2 | 255.255.255.252 | 115.115.115.1     |
| R18        | lo0          | 172.20.200.1  | 255.255.255.0   | 172.20.200.1      |
| R17        | e0/0.120     | 172.20.120.1  | 255.255.255.0   | 172.20.120.1      |
| R17        | e0/1         | 172.20.1.2    | 255.255.255.252 | 172.20.1.1        |
| R17        | e0/2.130     | 172.20.130.2  | 255.255.255.0   | 172.20.130.1      |
| R17        | lo0          | 172.20.200.2  | 255.255.255.0   | 172.20.200.1      |
| R16        | e0/0.130     | 172.20.130.1  | 255.255.255.0   | 172.20.130.1      |
| R16        | e0/1         | 172.20.2.2    | 255.255.255.252 | 172.20.2.1        |
| R16        | e0/2.120     | 172.20.120.2  | 255.255.255.0   | 172.20.120.1      |
| R16        | e0/3         | 172.20.3.1    | 255.255.255.252 | 172.20.3.1        |
| R16        | lo0          | 172.20.200.3  | 255.255.255.0   | 172.20.200.1      |
| R32        | e0/0         | 172.20.3.2    | 255.255.255.252 | 172.20.3.1        |
| R32        | lo0          | 172.20.200.4  | 255.255.255.0   | 172.20.200.1      |
| SW9        | int vlan 200 | 172.20.200.5  | 255.255.255.0   | 172.20.200.1      |
| SW10       | int vlan 200 | 172.20.200.6  | 255.255.255.0   | 172.20.200.1      |
| VPC8       | Ethernet     | 172.20.120.3  | 255.255.255.0   | 172.20.120.1      |
| VPC        | Ethernet     | 172.20.130.3  | 255.255.255.0   | 172.20.130.1      |

| Номер VLAN | Наименование | Устройство      |
|------------|--------------|-----------------|
| 120        | Users120     | SW4.SW5.SW3,SW2, VPC8|
| 130        | Users130     | SW4.SW5.SW3,SW2, VPC |
| 200        | MGMT         | SW4.SW5.SW3,SW2 |

# 2-3 Пример базовой конфигурации коммутатор и маршрутизатора
 Switch>en

Switch#clock set 22:00:00 feb 01 2023

Switch#conf t

Switch(config)#hostname S1

S1(config)#no ip domain-lookup

S1(config)#enable secret class

S1(config) service password-encryption

S1(config)#banner motd #Entry closed!!!#

S1(config)#line con 0

S1(config-line)#logging synchronous

S1(config-line)#password cisco

S1(config-line)#login

S1(config-line)#line vty 0 4

S1config-line)#logging synchronous

S1(config-line)#password cisco

S1(config-line)#login

Настройка адресов на маршрутизаторе на прмимере маршрутизатора R12
![Image]()

Настройка IP-адреса на компьютере и проверка работоспособности командой PING
![Image]()

#Настроите сети офисов так, чтобы не возникало broadcast штормов, а использование линков было максимально оптимизировано 
Основная причина возникновения brodcast шторм это избыточность линков между коммутаторами на втором уровене.
Для решения данной проблемы был настроен STP на всех коммутаторах второго уровня, а также в случае наличия двух линков между одной парой коммутаторов, была использования технология агрегации каналов LACP.

Настройка STP:


